(()=>{var s=Math.pow;var n=document.getElementById("draw-me");if(!(n instanceof HTMLCanvasElement))throw"Canvas not found";var d=n.getContext("2d");if(!d)throw"No drawing context";var f=new Audio("./click.mp3"),E=(e,t,i,a)=>Math.sqrt(s(e-i,2)+s(t-a,2)),y=class{constructor(t,i){this.x=t;this.y=i}draw(t,i){if(t.beginPath(),t.lineWidth=o?4:3,t.lineCap="round",i){let a=o?600:450,u=o?700:1700,r=E(this.x,this.y,i.x,i.y),c=Math.abs(Math.min(r,a)/a-1),M=Math.abs(Math.min(r,u)/u-1),w=o?18*s(Math.log(c),2)*(Math.round(Math.random()*40)/100+.6):20*c,m=(i.x-this.x)/r*w,b=(i.y-this.y)/r*w;t.strokeStyle=o?`rgba(45, 129, 236, ${M})`:"rgb(0, 0, 0)",t.moveTo(this.x-m/2,this.y-b/2),t.lineTo(this.x+m/2,this.y+b/2)}t.stroke()}},l,p=30,o=!1,h={x:-5e3,y:-5e3},g=()=>{l=[],n.height=n.clientHeight*2,n.width=n.clientWidth*2;for(let e=0;e<n.width;e+=p)for(let t=0;t<n.height;t+=p)l.push(new y(e,t))};g();window.addEventListener("resize",g);window.addEventListener("touchmove",e=>{h={x:e.touches[0].pageX*2,y:e.touches[0].pageY*2},e.preventDefault()});window.addEventListener("mousemove",e=>{h={x:e.x*2,y:e.y*2}});var v=()=>{o=!o,f.load(),f.play()};window.addEventListener("mousedown",e=>{v()});window.addEventListener("touchstart",e=>{v(),e.preventDefault()});var x=()=>{d.clearRect(0,0,n.width,n.height),l.forEach(e=>e.draw(d,h)),requestAnimationFrame(x)};requestAnimationFrame(x);})();
