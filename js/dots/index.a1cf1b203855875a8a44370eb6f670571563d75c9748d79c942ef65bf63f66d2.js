(()=>{var l=Math.pow;var n=document.getElementById("draw-me");if(!(n instanceof HTMLCanvasElement))throw"Canvas not found";var s=n.getContext("2d");if(!s)throw"No drawing context";var g=new Audio("./click.mp3"),M=(e,t,i,a)=>Math.sqrt(l(e-i,2)+l(t-a,2)),y=class{constructor(t,i){this.x=t;this.y=i}draw(t,i){if(t.beginPath(),t.lineWidth=o?4:3,t.lineCap="round",i){let a=o?600:450,u=o?700:1700,r=M(this.x,this.y,i.x,i.y),c=Math.abs(Math.min(r,a)/a-1),m=Math.abs(Math.min(r,u)/u-1),w=o?18*l(Math.log(c),2)*(Math.round(Math.random()*40)/100+.6):25*Math.log10(c*4+1),b=(i.x-this.x)/r*w,f=(i.y-this.y)/r*w;t.strokeStyle=o?`rgba(45, 129, 236, ${m})`:`rgba(0, 0, 0, ${m})`,t.moveTo(this.x-b/2,this.y-f/2),t.lineTo(this.x+b/2,this.y+f/2)}t.stroke()}},d,p=30,o=!1,h,v=()=>{d=[],n.height=n.clientHeight*2,n.width=n.clientWidth*2;for(let e=0;e<n.width;e+=p)for(let t=0;t<n.height;t+=p)d.push(new y(e,t))};v();window.addEventListener("resize",v);window.addEventListener("touchmove",e=>{h={x:e.touches[0].pageX*2,y:e.touches[0].pageY*2},e.preventDefault()});window.addEventListener("mousemove",e=>{h={x:e.x*2,y:e.y*2}});window.addEventListener("mousedown",e=>{o=!o,g.load(),g.play()});var x=()=>{s.clearRect(0,0,n.width,n.height),d.forEach(e=>e.draw(s,h)),requestAnimationFrame(x)};requestAnimationFrame(x);})();
