(()=>{var s=Math.pow;var n=document.getElementById("draw-me");if(!(n instanceof HTMLCanvasElement))throw"Canvas not found";var l=n.getContext("2d");if(!l)throw"No drawing context";var y=new Audio("./click.mp3"),E=(e,t,i,a)=>Math.sqrt(s(e-i,2)+s(t-a,2)),h=class{constructor(t,i){this.x=t;this.y=i}draw(t,i){if(t.beginPath(),t.lineWidth=o?4:3,t.lineCap="round",i){let a=o?600:450,c=o?700:1700,r=E(this.x,this.y,i.x,i.y),w=Math.abs(Math.min(r,a)/a-1),M=Math.abs(Math.min(r,c)/c-1),m=o?18*s(Math.log(w),2)*(Math.round(Math.random()*40)/100+.6):20*w,b=(i.x-this.x)/r*m,p=(i.y-this.y)/r*m;t.strokeStyle=o?`rgba(45, 129, 236, ${M})`:"rgb(0, 0, 0)",t.moveTo(this.x-b/2,this.y-p/2),t.lineTo(this.x+b/2,this.y+p/2)}t.stroke()}},u,f=30,o=!1,d={x:-5e3,y:-5e3},g=()=>{u=[],n.height=n.clientHeight*2,n.width=n.clientWidth*2;for(let e=0;e<n.width;e+=f)for(let t=0;t<n.height;t+=f)u.push(new h(e,t))};g();window.addEventListener("resize",g);window.addEventListener("touchmove",e=>{d={x:e.touches[0].pageX*2,y:e.touches[0].pageY*2},e.preventDefault()});window.addEventListener("mousemove",e=>{d={x:e.x*2,y:e.y*2}});var v=()=>{o=!o,y.load(),y.play()};window.addEventListener("mousedown",e=>{v()});window.addEventListener("touchstart",e=>{d={x:e.touches[0].pageX*2,y:e.touches[0].pageY*2},v(),e.preventDefault()});var x=()=>{l.clearRect(0,0,n.width,n.height),u.forEach(e=>e.draw(l,d)),requestAnimationFrame(x)};requestAnimationFrame(x);})();
